function onColorSchemeUpdate(){matcher.matches?(lightSchemeIcon.remove(),document.head.append(darkSchemeIcon),darkSwitch.checked=!0):(document.head.append(lightSchemeIcon),darkSchemeIcon.remove(),darkSwitch.checked=!1),updateTheme()}function updateTheme(){"dark"===localStorage.getItem("color-scheme")&&(darkSwitch.checked=!0),"light"===localStorage.getItem("color-scheme")&&(darkSwitch.checked=!1),darkSwitch.checked?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}const darkSwitch=document.getElementById("darkSwitch"),lightSchemeIcon=document.querySelector("link#light-scheme-icon"),darkSchemeIcon=document.querySelector("link#dark-scheme-icon");matcher=window.matchMedia("(prefers-color-scheme: dark)"),matcher.addListener(onColorSchemeUpdate),darkSwitch.addEventListener("change",()=>{localStorage.setItem("color-scheme",darkSwitch.checked?"dark":"light"),updateTheme()}),onColorSchemeUpdate();